(this.webpackJsonpcollage=this.webpackJsonpcollage||[]).push([[0],{73:function(e,a,t){},74:function(e,a,t){"use strict";t.r(a);var s=t(1),c=t.n(s),r=t(41),n=t.n(r),i=t(6),l=t(8),o=t(76),d=t(25),j=t(10),m=t.n(j),b=t(19),x=t(11),u=t(4),p=t(12),h=t(78),O=t(9),v=t.n(O);function f(e){var a=new FormData;for(var t in e)a.append(t,e[t]);return a}function g(e){var a=f(e);return v.a.post("/registro",a)}function N(e){var a=f(e);return v.a.post("/login",a)}var y=t.p+"static/media/logo.d965f968.svg",w=t.p+"static/media/logo1.dac58fe5.svg",E=t.p+"static/media/logo2.2215f4a8.svg",I=t(0),C=function(){var e=Object(h.a)("user",N,{enabled:!1,retry:!1,staleTime:1/0}),a=Object(s.useState)({user:"",password:"",Error:{}}),t=Object(p.a)(a,2),c=t[0],r=t[1],n=function(e){r(Object(u.a)(Object(u.a)({},c),{},Object(x.a)({},e.target.name,e.target.value)))},o=function(){var a=Object(b.a)(m.a.mark((function a(t){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),console.log(c),""===c.user||""===c.password){a.next=7;break}return a.next=5,e.mutate(c);case 5:a.next=8;break;case 7:r({Error:Object(u.a)(Object(u.a)({},c),{},{mensaje:"Rellene todos los campos"})});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(I.jsx)(s.Fragment,{children:Object(I.jsxs)("div",{className:"container-fluid p-0",children:[Object(I.jsx)("div",{className:"container position-relative vh-100",children:Object(I.jsxs)("div",{className:"row d-flex position-absolute top-50 start-50 translate-middle",style:{width:"1000px",height:"500px"},children:[Object(I.jsx)("div",{className:"col-12 col-sm-7 d-flex justify-content-center pt-5",children:Object(I.jsx)("div",{id:"carouselExampleSlidesOnly",className:"carousel slide","data-ride":"carousel",children:Object(I.jsxs)("div",{className:"carousel-inner",children:[Object(I.jsx)("div",{className:"carousel-item active",children:Object(I.jsx)("img",{src:y,className:"d-block w-100",alt:""})}),Object(I.jsx)("div",{className:"carousel-item",children:Object(I.jsx)("img",{src:w,classclassName:"d-block w-100",alt:""})}),Object(I.jsx)("div",{className:"carousel-item",children:Object(I.jsx)("img",{src:E,classclassName:"d-block w-100",alt:""})})]})})}),Object(I.jsxs)("div",{className:"col-12 col-sm-5",children:[Object(I.jsxs)("div",{className:"card",children:[Object(I.jsxs)("div",{className:"card-header text-center text-primary",children:[Object(I.jsx)("img",{src:E,alt:"",width:"50px",height:"50px"}),Object(I.jsx)("h2",{children:"Kollections Collage"})]}),Object(I.jsx)("div",{className:"card-body",children:Object(I.jsx)("div",{className:"container d-flex justify-content-center pt-3",children:Object(I.jsxs)("form",{onSubmit:o,children:[Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{for:"user",children:"Nombre de usuario o correo"}),Object(I.jsx)("input",{type:"text",className:"form-control",name:"user","aria-describedby":"emailHelp",placeholder:"Ingrese usuario o correo",onChange:n,value:c.user})]}),Object(I.jsxs)("div",{className:"form-group pt-3",children:[Object(I.jsx)("label",{for:"password",children:"Ingrese su contrase\xf1a"}),Object(I.jsx)("input",{type:"password",className:"form-control",name:"password",placeholder:"Ingrese su contrase\xf1a",onChange:n,value:c.password})]}),e.isError&&400===e.error.response.status?Object(I.jsx)("div",{class:"alert alert-danger mt-3",role:"alert",children:"Credenciales incorrectas"}):"",e.isLoading?Object(I.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(I.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(I.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):"",Object(I.jsx)("div",{className:"d-grid pt-4",children:Object(I.jsx)("button",{className:"btn btn-primary text-white",children:"Inciar sesi\xf3n"})})]})})}),Object(I.jsx)("div",{class:"card-footer text-muted text-center mt-4",children:"\xbfNo extra\xf1as los collages?"})]}),Object(I.jsxs)("div",{className:"card text-center mt-3 p-2",children:["\xbfNo tienes cuenta? ",Object(I.jsx)(i.b,{to:"/Registro",children:"Reg\xedstrate"})]})]}),Object(I.jsx)("div",{className:"text-muted text-center footer fixed pt-5",children:Object(I.jsx)("p",{children:"@Chappie_Tech offical company"})})]})}),e.isSuccess&&200===e.data.status?Object(I.jsx)(l.a,{to:"/Aplication/Home"}):""]})})},L=t(27),k=function(){var e=Object(h.a)(g,{enabled:!1,retry:3,retryDelay:2e3,stateTime:6e4,onSuccess:function(e){201===e.status?r(Object(u.a)(Object(u.a)({},c),{},{Exito:!0})):(r(Object(u.a)(Object(u.a)({},c),{},{Error:{email:"Correo se enceuntra en uso"}})),document.getElementsByName("email")[0].classList.add("is-invalid"))},onError:function(e){console.log(e)}}),a=Object(s.useState)({Error:{},Exito:!1}),t=Object(p.a)(a,2),c=t[0],r=t[1],n=function(e){r(Object(u.a)(Object(u.a)({},c),{},Object(x.a)({},e.target.name,e.target.value))),document.getElementsByName(e.target.name)[0].classList.remove("is-invalid")},o=function(e){var a={};return e.username||(a.username="Por favor escriba un nombre"),e.email||(a.email="Por favor ingrese un correo electronico"),e.password&&e.confpass?e.password.length>=8&&e.password.length<=16?e.password!==e.confpass&&(a.confpass="confirmacion no coincide"):a.password="Debe contener entre 8 a 16 caracteres":(a.password="Por favor ingrese una contrase\xf1a",a.confpass="Por favor confirme la contrase\xf1a"),a};return Object(I.jsx)(s.Fragment,{children:Object(I.jsx)("div",{className:"container-fluid  position-relative vh-100 p-0",children:Object(I.jsxs)("div",{className:"container d-flex justify-content-center mt-5",style:{width:"400px",height:"650px"},children:[Object(I.jsxs)("div",{className:"card",children:[Object(I.jsxs)("div",{className:"card-header text-center text-primary",children:[Object(I.jsx)("img",{src:E,alt:"",width:"50px",height:"50px"}),Object(I.jsx)("h2",{children:"Kollections Collage"}),Object(I.jsx)("p",{children:"Registrate para ver millones y millones de imagenes"})]}),Object(I.jsxs)("div",{className:"card-body",children:[Object(I.jsx)("div",{className:"container d-flex justify-content-center pt-3",children:Object(I.jsxs)("form",{className:"needs-validation",onSubmit:function(a){a.preventDefault();c.Error;var t=Object(L.a)(c,["Error"]),s=o(t);if(Object.keys(s).length){for(var n in s)document.getElementsByName(n)[0].classList.add("is-invalid");r(Object(u.a)(Object(u.a)({},c),{},{Error:s}))}else e.mutate(c),console.log(e.data)},children:[Object(I.jsxs)("div",{class:"form-group",children:[Object(I.jsx)("label",{for:"username",children:"Nombre de usuario"}),Object(I.jsx)("input",{type:"text",class:"form-control",name:"username",id:"username",onChange:n,value:c.username,placeholder:"Nombre de usuario"}),Object(I.jsx)("div",{className:"valid-feedback",children:"nombre disponible"}),Object(I.jsx)("div",{className:"invalid-feedback",children:c.Error.username})]}),Object(I.jsxs)("div",{class:"form-group pt-3",children:[Object(I.jsx)("label",{for:"email",children:"Ingrese su correo electronico"}),Object(I.jsx)("input",{type:"email",class:"form-control",name:"email","aria-describedby":"emailHelp",onChange:n,value:c.email,placeholder:"Correo electronico"}),Object(I.jsx)("div",{className:"valid-feedback",children:"correo disponible"}),Object(I.jsx)("div",{className:"invalid-feedback",children:c.Error.email})]}),Object(I.jsxs)("div",{class:"form-group pt-3",children:[Object(I.jsx)("label",{for:"password",children:"Ingrese su contrase\xf1a"}),Object(I.jsx)("input",{type:"password",class:"form-control",name:"password",onChange:n,value:c.password,placeholder:"Ingrese su contrase\xf1a"}),Object(I.jsx)("div",{className:"valid-feedback",children:"contrase\xf1a valdia"}),Object(I.jsx)("div",{className:"invalid-feedback",children:c.Error.password})]}),Object(I.jsxs)("div",{class:"form-group pt-3",children:[Object(I.jsx)("label",{for:"confpass",children:"Ingrese su contrase\xf1a"}),Object(I.jsx)("input",{type:"password",class:"form-control",name:"confpass",onChange:n,value:c.confpass,placeholder:"Ingrese su contrase\xf1a"}),Object(I.jsx)("div",{className:"valid-feedback",children:"verificacion coincide"}),Object(I.jsx)("div",{className:"invalid-feedback",children:c.Error.confpass})]}),e.isLoading?Object(I.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(I.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(I.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):"",Object(I.jsx)("div",{className:"d-grid pt-4",children:Object(I.jsx)("button",{className:"btn btn-primary text-white",children:"Registrarse"})})]})}),Object(I.jsx)("div",{class:"card-footer text-muted text-center mt-4",children:"\xbfListo apra un mundo de colecciones?"})]}),Object(I.jsxs)("div",{className:"card text-center mt-4 p-2",children:["\xbfYa tienes cuenta? ",Object(I.jsx)(i.b,{to:"/",children:"Iniciar sesi\xf3n"})]}),Object(I.jsx)("div",{className:"text-muted text-center footer fixed pt-5",children:Object(I.jsx)("p",{children:"@Chappie_Tech offical company"})})]}),e.isSuccess&&201===e.data.status?Object(I.jsx)(l.a,{to:"/Exitoregistro"}):""]})})})},S=function(){return Object(I.jsx)(s.Fragment,{children:Object(I.jsx)("div",{className:"container-fluid position-relative vh-100 p-0",children:Object(I.jsx)("div",{className:"container position-absolute top-50 start-50 translate-middle",style:{width:"500px"},children:Object(I.jsxs)("div",{className:"card",children:[Object(I.jsxs)("div",{className:"card-header text-center text-primary",children:[Object(I.jsx)("img",{src:E,alt:"",width:"50px",height:"50px"}),Object(I.jsx)("h2",{children:"Kollections Collage"}),Object(I.jsx)("p",{children:"Registrate para ver millones y millones de imagenes"})]}),Object(I.jsxs)("div",{className:"card-body text-center",children:[Object(I.jsx)("h2",{className:"text-center text-primary",children:"\xa1Registro realizado con exito!"}),Object(I.jsx)("p",{children:"Inicia sesion para comenzar"}),Object(I.jsx)(i.b,{className:"btn btn-outline-primary",to:"/",children:"\xa1Vamos!"})]})]})})})})},D=t.p+"static/media/userIcon.d24a10f3.svg",B=function(){var e=Object(l.i)().url,a=Object(l.g)(),t=Object(s.useState)({isOpen:!1,logOut:!1}),c=Object(p.a)(t,2),r=c[0],n=c[1],o="dropdown-menu ".concat(r.isOpen?" show":"");return Object(I.jsxs)("div",{className:"container-fluid",children:[Object(I.jsx)("div",{className:"row",children:Object(I.jsx)("nav",{class:"navbar navbar-light bg-light border border-buttom fixed-top",children:Object(I.jsx)("div",{class:"container-fluid d-flex justify-content-center",children:Object(I.jsxs)("div",{className:"row d-flex align-items-center",children:[Object(I.jsx)("div",{className:"col-12 col-sm-4",children:Object(I.jsxs)(i.b,{class:"navbar-brand text-primary d-flex align-items-center",to:"".concat(e,"/Home"),children:[Object(I.jsx)("img",{src:E,alt:"",width:"33px",height:"33px"}),Object(I.jsx)("span",{className:"ms-2",children:"Kollections Collage"})]})}),Object(I.jsx)("div",{className:"col-12 col-sm-4",children:Object(I.jsx)("form",{class:"d-flex ps-2 ms-5",onSubmit:function(e){e.preventDefault()},children:Object(I.jsx)("input",{class:"form-control",type:"search",placeholder:"Buscar...","aria-label":"Search",onKeyPress:function(t){"Enter"===t.key&&a.push("".concat(e,"/search"))}})})}),Object(I.jsx)("div",{className:"col-12 col-sm-4",children:Object(I.jsxs)("div",{className:"d-flex ps-5 ms-5 align-items-center",children:[Object(I.jsx)(i.b,{className:"btn btn-outline-primary ms-4",to:"".concat(e,"/Home"),children:"HOME"}),Object(I.jsx)(i.b,{className:"btn btn-outline-primary ms-4",to:"".concat(e,"/AddImage"),children:"ADD"}),Object(I.jsxs)("div",{className:"ms-4 dropdown",children:[Object(I.jsx)("img",{src:D,alt:"",role:"button",width:"33px",height:"33px",name:"profile",onClick:function(e){"profile"===e.target.name&&n(Object(u.a)(Object(u.a)({},r),{},{isOpen:!r.isOpen}))}}),Object(I.jsxs)("div",{className:o,"aria-labelledby":"btn-menu",children:[Object(I.jsx)(i.b,{className:"dropdown-item",to:"".concat(e,"/userprin"),children:"Perfil"}),Object(I.jsx)("button",{className:"dropdown-item",onClick:function(e){v.a.get("/logOut").then((function(e){console.log(e),n(Object(u.a)(Object(u.a)({},r),{},{logOut:200===e.data.status}))}))},children:"Cerrar sesi\xf3n"})]})]})]})})]})})})}),r.logOut?Object(I.jsx)(l.a,{to:"/"}):""]})},U=t(77),K=t.p+"static/media/logo2-w.b2b00d63.svg",R=function(e){var a=Object(l.i)().url;return""!==e.portada?Object(I.jsx)(i.b,{to:"".concat(a,"/Kollection/").concat(e.id),children:Object(I.jsxs)("div",{className:"card",style:{width:"18rem",height:"14rem"},children:[Object(I.jsx)("img",{src:e.portada,class:"card-img",alt:""}),Object(I.jsx)("div",{class:"card-body",children:Object(I.jsx)("h5",{class:"card-title text-center text-primary",children:e.name})})]})}):Object(I.jsx)(i.b,{to:"".concat(a,"/Kollection/").concat(e.id),children:Object(I.jsxs)("div",{className:"card",style:{width:"18rem",height:"14rem"},children:[Object(I.jsx)("img",{src:K,className:"card-img-top bg-primary p-4",alt:"",width:"75%",height:"75%"}),Object(I.jsx)("div",{className:"card-body",children:Object(I.jsx)("p",{className:"card-text text-center text-primary",children:Object(I.jsx)("b",{children:e.name})})})]})})};function H(){return(H=Object(b.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(a=l.h.id)){e.next=7;break}return e.next=4,v.a.get("/dataUser?id=".concat(a));case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,v.a.get("/dataUser");case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return A.apply(this,arguments)}function A(){return(A=Object(b.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/changePassword",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return T.apply(this,arguments)}function T(){return(T=Object(b.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.put("/editBasicData",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return M.apply(this,arguments)}function M(){return(M=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.delete("/editBasicData");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=function(){return H.apply(this,arguments)},V=function(e){var a=Object(l.i)().url;return Object(I.jsxs)("div",{className:"row d-flex",children:[e.collections.map((function(e){return Object(I.jsx)("div",{className:"col-12 col-sm-3 mt-3",children:Object(I.jsx)(R,{id:e.id,name:e.name,portada:e.portada})})})),e.edit?Object(I.jsx)(i.b,{className:"col-12 col-sm-3 mt-3",to:"".concat(a,"/CreateKo"),children:Object(I.jsxs)("div",{className:"card border-primary border-3 mb-3 p-5",style:{width:"18rem"},children:[Object(I.jsx)("div",{className:"container d-flex justify-content-center align-items-center",children:Object(I.jsx)("img",{src:y,className:"card-img",alt:"...",style:{width:"70%",height:"70%"}})}),Object(I.jsx)("p",{className:"card-text text-primary text-center",children:"Crear Kolleccion"})]})}):""]})},J=function(){var e=Object(l.i)().url,a=Object(U.a)("UserInfo",z,{onSuccess:function(e){console.log(e)}}),t=a.data,s=a.isLoading,c=a.isError;return s?Object(I.jsx)("div",{className:"container-fluid position-relative vh-100",children:Object(I.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle",children:Object(I.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(I.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}):c?Object(I.jsx)("div",{className:"container-fluid position-relative vh-100",children:Object(I.jsxs)("div",{className:"position-absolute top-50 start-50 translate-middle mb-5",children:[Object(I.jsx)("h1",{className:"text-center text-primary",children:"Error al obtener informacion del usuario... :("}),Object(I.jsx)(i.b,{className:"btn btn-outline-primary",children:"Volver"})]})}):Object(I.jsx)("div",{className:"container-fluid",children:Object(I.jsxs)("div",{className:"container-fluid p-5 mt-5",children:[Object(I.jsx)("div",{className:"row d-flex justify-content-center",children:Object(I.jsxs)("div",{className:"row d-flex ps-5 ms-5 justify-content-center align-items-center",children:[Object(I.jsx)("div",{className:"col-12 col-sm-3 ",children:Object(I.jsx)("img",{src:t.data.user.profileImg||D,className:"rounded-circle",alt:"",width:"200px",height:"200px"})}),Object(I.jsxs)("div",{className:"col-12 col-sm-4",children:[Object(I.jsxs)("div",{className:"d-flex align-items-center",children:[Object(I.jsx)("h2",{children:t.data.user.name}),t.data.edit?Object(I.jsx)(i.b,{className:"btn btn-outline-primary ms-3",to:"".concat(e,"/editInfo"),children:"Editar perfil"}):""]}),Object(I.jsx)("div",{children:Object(I.jsx)("p",{children:t.data.user.descripcion})})]})]})}),Object(I.jsxs)("div",{className:"row justify-content-center mt-5",children:[Object(I.jsx)("hr",{}),Object(I.jsx)("div",{children:Object(I.jsx)(V,{collections:t.data.user.collections,edit:t.data.edit})})]})]})})},_=function(e){return Object(I.jsxs)("div",{className:"card",children:[Object(I.jsx)("div",{classname:"card-body",children:Object(I.jsxs)("div",{className:"d-flex align-items-center pt-3 ps-3 mb-2",children:[Object(I.jsx)("img",{src:e.profileImg||D,className:"rounded-circle",alt:" ",width:"40px",height:"40px"}),Object(I.jsx)("h5",{className:"card-title text-primary ms-3 pt-1",children:e.username})]})}),""!==e.imgUrl?Object(I.jsx)("img",{src:e.imgUrl,classname:"card-img-bottom",alt:"..."}):Object(I.jsx)("div",{className:"bg-primary d-flex justify-content-center",children:Object(I.jsx)("img",{src:K,classname:"card-img-bottom",alt:"..."})}),Object(I.jsx)("div",{classname:"card-body",children:Object(I.jsxs)("div",{className:"container pt-1 ps-3 pb-3 mt-2",children:[Object(I.jsx)("p",{className:"card-text",children:e.descripcion||"Descripcion de la publicacion"}),Object(I.jsx)("p",{className:"card-text",children:Object(I.jsx)("small",{class:"text-muted",children:"Last updated 3 mins ago"})})]})})]})};function q(){return v.a.get("/getImages")}var Y=t.p+"static/media/refresh.bbf0f3b1.svg",G=function(){var e=Object(U.a)("Home",q,{staleTime:1/0});return e.isLoading?Object(I.jsx)("div",{className:"container-fluid position-relative vh-100",children:Object(I.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle",children:Object(I.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(I.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}):Object(I.jsxs)("div",{className:"container-fluid position-relative vh-100",children:[Object(I.jsx)("div",{className:"d-flex justify-content-center mt-5 pt-5",children:Object(I.jsx)("div",{className:"col-12 col-sm-6",children:e.data.data.publicaciones.map((function(e){return Object(I.jsx)("div",{className:"container mt-3 mb-3",children:Object(I.jsx)(_,{username:e.username,profileImg:e.profileImg,descripcion:e.descripccion,imgUrl:e.pubUrl})})}))})}),Object(I.jsx)("div",{className:"fixed-bottom pe-5 me-5 mb-5",children:Object(I.jsx)("button",{className:"btn btn-primary float-sm-end rounded-pill",onClick:function(){e.refetch()},children:Object(I.jsx)("img",{src:Y,alt:"",width:"40px",height:"40px"})})})]})},W=function(e){var a=Object(s.useState)({username:e.info.name,email:e.info.email,descripcion:e.info.descripcion,profileImg:e.info.profileImg,Error:{}}),t=Object(p.a)(a,2),c=t[0],r=t[1],n=Object(d.b)(),i=Object(h.a)(F,{enabled:!1,retry:!1,onSuccess:function(e){201===e.data.status&&(n.invalidateQueries("UserInfo"),n.refetchQueries("UserInfo"))},onError:function(e){var a={};"username"===e.response.data.input&&(a.username=e.response.data.mensaje,document.getElementsByName(e.response.data.input)[0].classList.add("is-invalid")),"email"===e.response.data.input&&(a.email=e.response.data.mensaje,document.getElementsByName(e.response.data.input)[0].classList.add("is-invalid")),r(Object(u.a)(Object(u.a)({},c),{},{Error:a}))}}),l=function(e){if(r(Object(u.a)(Object(u.a)({},c),{},Object(x.a)({},e.target.name,e.target.value))),"profileImg"===e.target.name){var a=URL.createObjectURL(e.target.files[0]);r(Object(u.a)(Object(u.a)({},c),{},{profileImg:a}))}document.getElementsByName(e.target.name)[0].classList.remove("is-invalid")};return Object(I.jsx)("div",{className:"container-fluid",children:Object(I.jsxs)("form",{id:"form",onSubmit:function(e){if(e.preventDefault(),""!==c.username&&""!==c.email)i.mutate(new FormData(e.target));else{var a={};""===c.username&&(a.username="Campo obligatorio",document.getElementsByName("username")[0].classList.add("is-invalid")),""===c.email&&(a.email="Campo obligatorio",document.getElementsByName("email")[0].classList.add("is-invalid")),r(Object(u.a)(Object(u.a)({},c),{},{Error:a}))}},children:[Object(I.jsxs)("div",{className:"row d-flex m-3 align-items-center",children:[Object(I.jsx)("div",{className:"col-12 col-sm-3",children:Object(I.jsx)("img",{src:c.profileImg||D,alt:"",className:"rounded-circle",width:"95px",height:"90px"})}),Object(I.jsxs)("div",{className:"col-12 col-sm-9",children:[Object(I.jsx)("h4",{children:c.username}),Object(I.jsxs)("label",{name:"profileImg ",className:"text-primary border border-0 bg bg-white",role:"button",children:[Object(I.jsx)("input",{type:"file",name:"profileImg",accept:"image/*",style:{display:"none"},onChange:l,src:c.profileImg}),"Cambiar foto de perfil"]})]})]}),Object(I.jsx)("div",{className:"row d-flex m-3 pt-2",children:Object(I.jsxs)("div",{className:"col-12",children:[Object(I.jsxs)("div",{className:"row g-3 align-items-center",children:[Object(I.jsx)("div",{className:"col-12 col-sm-4",children:Object(I.jsx)("label",{for:"username",className:"col-form-label",children:"Nombre de usuario"})}),Object(I.jsxs)("div",{className:"col-12 col-sm-8",children:[Object(I.jsx)("input",{type:"text",className:"form-control",name:"username",value:c.username,onChange:l}),Object(I.jsx)("div",{className:"invalid-feedback",children:c.Error.username})]})]}),Object(I.jsxs)("div",{className:"row g-3 align-items-center mt-2",children:[Object(I.jsx)("div",{className:"col-12 col-sm-4",children:Object(I.jsx)("label",{for:"email",className:"col-form-label",children:"Correo electronico"})}),Object(I.jsxs)("div",{className:"col-12 col-sm-8",children:[Object(I.jsx)("input",{type:"email",className:"form-control","aria-describedby":"passwordHelpInline",name:"email",value:c.email,onChange:l}),Object(I.jsx)("div",{className:"invalid-feedback",children:c.Error.email})]})]}),Object(I.jsxs)("div",{className:"row g-3 mt-2",children:[Object(I.jsx)("div",{className:"col-12 col-sm-4",children:Object(I.jsx)("label",{for:"descripcion",className:"col-form-label",children:"Descripcion pefil"})}),Object(I.jsx)("div",{className:"col-12 col-sm-8",children:Object(I.jsx)("textarea",{name:"descripcion",className:"form-control",value:c.descripcion,onChange:l})})]}),i.isLoading?Object(I.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(I.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(I.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):"",i.isSuccess&&201===i.data.data.status?Object(I.jsx)("div",{className:"alert alert-success mt-3",children:i.data.data.mensaje}):"",Object(I.jsx)("div",{className:"row g-3 mt-2 d-flex justify-content-center",children:Object(I.jsx)("button",{className:"btn btn-outline-primary",children:"Editar informacion"})})]})})]})})},X=function(e){var a=Object(h.a)(P,{enabled:!1,onError:function(){var e=Object(b.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:400===a.response.status&&(n(Object(u.a)(Object(u.a)({},r),{},{Error:{oldpassword:"Contrase\xf1a antigua incorrecta"}})),document.getElementsByName("oldpassword")[0].classList.add("is-invalid"));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}),t=Object(s.useState)({username:e.info.name,profileImg:e.info.profileImg,Error:{},newpassword:"",oldpassword:"",confpassword:""}),c=Object(p.a)(t,2),r=c[0],n=c[1],i=function(e){n(Object(u.a)(Object(u.a)({},r),{},Object(x.a)({},e.target.name,e.target.value))),document.getElementsByName(e.target.name)[0].classList.remove("is-invalid")},l=function(e){var a={};return e.oldpassword||(a.oldpassword="Por favor ingrese la antigua clave"),e.newpassword?e.newpassword.length>=8&&e.newpassword.length<=16?e.confpassword?e.newpassword!==e.confpassword&&(a.confpassword="No concide con la nueva clane ingresada"):a.confpassword="Por favor confirme la nueva clave a establecer":a.newpassword="Debe contener entre 8 a 16 caracteres":a.newpassword="Por favor ingrese la nueva clave a establecer",console.log(e.confpassword),e.confpassword||(a.confpassword="Por favor confirme la nueva clave a establecer"),a};return Object(I.jsxs)("div",{className:"container-fluid",children:[Object(I.jsxs)("div",{className:"row d-flex m-3 align-items-center",children:[Object(I.jsx)("div",{className:"col-12 col-sm-3",children:Object(I.jsx)("img",{src:r.profileImg||D,alt:"",className:"rounded-circle",width:"95px",height:"90px"})}),Object(I.jsx)("div",{className:"col-12 col-sm-9",children:Object(I.jsx)("h4",{children:r.username})})]}),Object(I.jsx)("div",{className:"row d-flex m-3 pt-2",children:Object(I.jsxs)("form",{className:"col-12",onSubmit:function(e){e.preventDefault();r.username,r.profileImg;var t=Object(L.a)(r,["username","profileImg"]),s=l(t);if(Object.keys(s).length){for(var c in s)console.log(c),document.getElementsByName(c)[0].classList.add("is-invalid");n(Object(u.a)(Object(u.a)({},r),{},{Error:s}))}else a.mutate(new FormData(e.target))},children:[Object(I.jsxs)("div",{className:"row g-3 align-items-center",children:[Object(I.jsx)("div",{className:"col-12 col-sm-4",children:Object(I.jsx)("label",{for:"oldpassword",className:"col-form-label",children:"Contrase\xf1a anterior"})}),Object(I.jsxs)("div",{className:"col-12 col-sm-8",children:[Object(I.jsx)("input",{type:"password",className:"form-control",name:"oldpassword",value:r.oldpassword,onChange:i}),Object(I.jsx)("div",{className:"invalid-feedback",children:r.Error.oldpassword})]})]}),Object(I.jsxs)("div",{className:"row g-3 align-items-center mt-2",children:[Object(I.jsx)("div",{className:"col-12 col-sm-4",children:Object(I.jsx)("label",{for:"newpassword",className:"col-form-label",children:"Nueva contrase\xf1a"})}),Object(I.jsxs)("div",{className:"col-12 col-sm-8",children:[Object(I.jsx)("input",{type:"password",className:"form-control",name:"newpassword",value:r.newpassword,onChange:i}),Object(I.jsx)("div",{className:"invalid-feedback",children:r.Error.newpassword})]})]}),Object(I.jsxs)("div",{className:"row g-3 align-items-center mt-2",children:[Object(I.jsx)("div",{className:"col-12 col-sm-4",children:Object(I.jsx)("label",{for:"confpassword",className:"col-form-label",children:"Confirmar"})}),Object(I.jsxs)("div",{class:"col-12 col-sm-8",children:[Object(I.jsx)("input",{type:"password",className:"form-control",name:"confpassword",value:r.confpassword,onChange:i}),Object(I.jsx)("div",{className:"invalid-feedback",children:r.Error.confpassword})]})]}),a.isLoading?Object(I.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(I.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(I.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):"",a.isSuccess&&200===a.data.data.status?Object(I.jsx)("div",{class:"alert alert-success mt-3",role:"alert",children:"Contrase\xf1a cambiada con exito"}):"",Object(I.jsx)("div",{className:"row g-3 mt-2 d-flex justify-content-center",children:Object(I.jsx)("button",{className:"btn btn-outline-primary",type:"submit",children:"Cambiar contrase\xf1a"})})]})})]})},Z=function(){var e=Object(h.a)(Q,{enabled:!1,retry:!1,onSuccess:function(e){},onError:function(e){}});return e.isLoading?Object(I.jsx)("div",{className:"container-fluid",children:Object(I.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(I.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(I.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}):e.isSuccess&&200===e.data.data.status?Object(I.jsxs)("div",{className:"container-fluid",children:[Object(I.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(I.jsx)("div",{className:"alert alert-warning mt-3",children:"Su cuenta ha sido eliminada"})}),Object(I.jsx)(l.a,{to:"/"})]}):Object(I.jsxs)("div",{className:"container-fluid",children:[Object(I.jsxs)("div",{className:"row d-flex m-3 align-items-center",children:[Object(I.jsx)("h2",{className:"text-center text-danger",children:"ELIMINAR CUENTA"}),Object(I.jsx)("p",{className:"text-center",children:"\xbfEsta seguro de hacer est\xe1 accion?"}),Object(I.jsxs)("p",{children:["Al eliminar su cuenta, no podr\xe1 recuperar sus colecciones ni imagenes almacenadas, ",Object(I.jsx)("b",{children:"toda su informacion ser\xe1 eliminada."})]}),Object(I.jsx)("p",{className:"text-center",children:Object(I.jsx)("b",{children:"ES IRREVERSIBLE"})})]}),Object(I.jsx)("div",{className:"row g-3 mt-2 mb-5 d-flex justify-content-center",children:Object(I.jsx)("button",{className:"btn btn-outline-danger",onClick:function(a){a.preventDefault(),e.mutate()},children:"Eliminar mi cuenta"})})]})},$=function(){var e=Object(l.i)(),a=e.path,t=e.url,s=Object(d.b)().getQueryData("UserInfo");return Object(I.jsx)("div",{className:"container-fluid d-flex justify-content-center mt-5",children:Object(I.jsx)("div",{className:"container w-75 mt-5",children:Object(I.jsxs)("div",{className:"row d-flex border",children:[Object(I.jsx)("div",{className:"col-12 col-sm-4 border border-end-1",children:Object(I.jsx)("nav",{className:"navbar navbar-inverse",role:"navigation",children:Object(I.jsxs)("ul",{className:"nav",children:[Object(I.jsx)("li",{className:"nav-item",children:Object(I.jsx)(i.b,{className:"nav-link",to:"".concat(t,"/basicInfo"),children:"Informacion basica"})}),Object(I.jsx)("li",{className:"nav-item",children:Object(I.jsx)(i.b,{className:"nav-link",to:"".concat(t,"/modPass"),children:"Cambiar contrase\xf1a"})}),Object(I.jsx)("li",{className:"nav-item",children:Object(I.jsx)(i.b,{className:"nav-link",to:"".concat(t,"/deleteAcount"),children:"Eliminar cuenta"})})]})})}),Object(I.jsx)("div",{className:"col-12 col-sm-8",children:Object(I.jsxs)(l.d,{children:[Object(I.jsx)(l.b,{exact:!0,path:"".concat(a,"/basicInfo"),children:Object(I.jsx)(W,{info:s.data.user})}),Object(I.jsx)(l.b,{exact:!0,path:"".concat(a,"/modPass"),children:Object(I.jsx)(X,{info:s.data.user})}),Object(I.jsx)(l.b,{exact:!0,path:"".concat(a,"/deleteAcount"),component:Z})]})})]})})})};function ee(e){return v.a.post("/Collection",e)}function ae(e){return v.a.get("/getCollection/".concat(parseInt(e.queryKey[1])))}var te=function(){var e=Object(s.useState)({name:"",portada:""}),a=Object(p.a)(e,2),t=a[0],c=a[1],r=Object(h.a)(ee,{enabled:!1,retry:!1}),n=function(e){if(c(Object(u.a)(Object(u.a)({},t),{},Object(x.a)({},e.target.name,e.target.value))),"portada"===e.target.name){var a=URL.createObjectURL(e.target.files[0]);c(Object(u.a)(Object(u.a)({},t),{},{portada:a}))}document.getElementsByName(e.target.name)[0].classList.remove("is-invalid")};return Object(I.jsx)("div",{className:"container-fluid position-relative vh-100",children:Object(I.jsx)("div",{className:"row ms-5 ps-5 d-flex position-absolute top-50 start-50 translate-middle",style:{width:"1000px",height:"500px"},children:Object(I.jsxs)("div",{className:"row ms-4 d-flex justify-content-center",children:[Object(I.jsx)("div",{className:"col-12 col-sm-5",children:Object(I.jsxs)("div",{className:"card",children:[Object(I.jsx)("div",{className:"card-header text-center text-primary",children:Object(I.jsx)("h3",{children:"Krear Kolleccion"})}),Object(I.jsx)("div",{className:"card-body",children:Object(I.jsx)("div",{className:"container d-flex justify-content-center pt-3",children:Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==t.name?r.mutate(new FormData(e.target)):document.getElementsByName("name")[0].classList.add("is-invalid")},children:[Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{for:"name",children:"Nombre de Kolleccion"}),Object(I.jsx)("input",{type:"text",className:"form-control",name:"name","aria-describedby":"emailHelp",placeholder:"Nombre de kolleccion",onChange:n,value:t.name})]}),Object(I.jsx)("div",{className:"invalid-feedback",children:"Campo obligatorio"}),Object(I.jsxs)("div",{className:"form-group pt-3",children:[Object(I.jsx)("label",{for:"portada",children:"Imagen de portada"}),Object(I.jsx)("input",{type:"file",className:"form-control",name:"portada",accept:"image/*",onChange:n,src:t.portada})]}),Object(I.jsx)("div",{className:"d-grid mt-4",children:Object(I.jsx)("button",{className:"btn btn-primary text-white",type:"submit",children:"Krear Kollecion"})})]})})}),Object(I.jsx)("div",{class:"card-footer text-muted text-center mt-4",children:"Las Kolecciones funcionan para almacenar images"})]})}),Object(I.jsxs)("div",{className:"col-12 col-sm-7 ps-5 mt-5 pt-4",children:[r.isLoading?Object(I.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(I.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(I.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(I.jsx)(R,{name:t.name,portada:t.portada}),r.isSuccess&&201===r.data.data.status?Object(I.jsx)("div",{className:"alert alert-success mt-3",style:{width:"18rem"},children:r.data.data.mensaje}):"",r.isError?Object(I.jsx)("div",{className:"alert alert-danger mt-3",style:{width:"18rem"},children:r.data.data.mensaje}):""]})]})})})},se=t(43),ce=function(){var e=Object(s.useState)({descripccion:"",idCollecion:"",image:"",tags:"",username:"",profileImg:""}),a=Object(p.a)(e,2),t=a[0],c=a[1],r=Object(d.b)(),n=Object(h.a)((function(e){return console.log(e),v.a.post("/Images",e)}),{enabled:!1,retry:!1,onSuccess:function(e){r.invalidateQueries("Collection")},onError:function(e){console.log("error:"+e)}}),i=Object(U.a)("UserInfo",z,{staleTime:se.infinity,onSuccess:function(e){c(Object(u.a)(Object(u.a)({},t),{},{username:e.data.user.name,profileImg:e.data.user.profileImg}))}}),l=i.data,o=function(e){if(c(Object(u.a)(Object(u.a)({},t),{},Object(x.a)({},e.target.name,e.target.value))),"image"===e.target.name){var a=URL.createObjectURL(e.target.files[0]);c(Object(u.a)(Object(u.a)({},t),{},{image:a}))}document.getElementsByName(e.target.name)[0].classList.remove("is-invalid")};return i.isLoading?Object(I.jsx)("div",{className:"container-fluid position-relative vh-100",children:Object(I.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle",children:Object(I.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(I.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}):Object(I.jsx)("div",{className:"container-fluid p-0",children:Object(I.jsx)("div",{className:"container position-relative vh-100",children:Object(I.jsxs)("div",{className:"row d-flex position-absolute top-50 start-50 translate-middle",style:{width:"1000px",height:"500px"},children:[Object(I.jsx)("div",{className:"col-12 col-sm-5",children:Object(I.jsxs)("div",{className:"card",children:[Object(I.jsx)("div",{className:"card-header text-center text-primary",children:Object(I.jsx)("h2",{children:"Realizar publikacion"})}),Object(I.jsx)("div",{className:"card-body",children:Object(I.jsx)("div",{className:"container d-flex justify-content-center pt-3",children:Object(I.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!==t.idCollecion&&""!==t.image&&""!==t.tags){var a=new FormData(e.target);n.mutate(a)}else""===t.image&&document.getElementsByName("image")[0].classList.add("is-invalid"),""===t.tags&&document.getElementsByName("tags")[0].classList.add("is-invalid"),""===t.idCollecion&&document.getElementsByName("idCollecion")[0].classList.add("is-invalid")},children:[Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{for:"user",children:"Descripcion de publciacion"}),Object(I.jsx)("textarea",{className:"form-control",name:"descripccion","aria-describedby":"emailHelp",placeholder:"Ingrese una descripcion",onChange:o,value:t.descripcion})]}),Object(I.jsxs)("div",{className:"form-group pt-3",children:[Object(I.jsx)("label",{for:"password",children:"Seleccione Kolleccion"}),Object(I.jsxs)("select",{name:"idCollecion",className:"form-control",onChange:o,children:[Object(I.jsx)("option",{value:"0",children:"Seleccionar kollecion"}),l.data.user.collections.map((function(e){return Object(I.jsx)("option",{value:e.id,children:e.name})}))]}),Object(I.jsx)("div",{className:"invalid-feedback",children:"Debe seleccionar una Kollecion"})]}),Object(I.jsxs)("div",{className:"form-group pt-3",children:[Object(I.jsx)("label",{for:"image",children:"Imagen de portada"}),Object(I.jsx)("input",{type:"file",className:"form-control",name:"image",accept:"image/*",onChange:o,src:t.image}),Object(I.jsx)("div",{className:"invalid-feedback",children:"Debe seleccionar una imagen"})]}),Object(I.jsxs)("div",{className:"form-group pt-3",children:[Object(I.jsx)("label",{for:"tags",children:"Descripcion de publciacion"}),Object(I.jsx)("textarea",{className:"form-control",name:"tags",placeholder:"tags de publicacion ej: #Hoy #Noticia",onChange:o,value:t.tags}),Object(I.jsx)("div",{className:"invalid-feedback",children:"Debe colocar almenos un tag"})]}),Object(I.jsx)("div",{className:"d-grid pt-4",children:Object(I.jsx)("button",{className:"btn btn-primary text-white",type:"submit",children:"Agregar publikacion"})})]})})})]})}),Object(I.jsxs)("div",{className:"col-12 col-sm-7",children:[Object(I.jsx)(_,{username:t.username,profileImg:t.profileImg,descripcion:t.descripccion,imgUrl:t.image}),n.isSuccess&&201===n.data.data.status?Object(I.jsx)("div",{className:"alert alert-success mt-3",children:n.data.data.mensaje}):""]})]})})})},re=function(){var e=Object(l.h)().id,a=Object(d.b)().getQueryData("UserInfo");console.log(a);var t=Object(U.a)(["Collection",e],ae,{retry:3,retryDelay:2e3,staleTime:1/0,onSuccess:function(e){console.log(e.data)}}),s=t.data;return t.isLoading?Object(I.jsx)("div",{className:"container-fluid position-relative vh-100",children:Object(I.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle",children:Object(I.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(I.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}):Object(I.jsx)("div",{className:"container-fluid",children:Object(I.jsx)("div",{className:"d-flex justify-content-center mt-5 pt-5",children:Object(I.jsx)("div",{className:"col-12 col-sm-6",children:s.data.imgs.map((function(e){return Object(I.jsx)("div",{className:"container mt-3 mb-3",children:Object(I.jsx)(_,{username:a.data.user.name,profileImg:a.data.user.profileImg,descripcion:e.descripccion,imgUrl:e.urlImg})})}))})})})},ne=function(){return Object(I.jsx)("div",{className:"container-fluid mt-5",children:Object(I.jsx)("h1",{className:"mt-5 text-center text-primary",children:"HOME"})})},ie=function(){var e=Object(l.i)().path;return Object(I.jsx)(s.Fragment,{children:Object(I.jsxs)("div",{className:"container-fluid",children:[Object(I.jsx)("div",{className:"row",children:Object(I.jsx)(B,{})}),Object(I.jsx)("div",{className:"row",children:Object(I.jsxs)(l.d,{children:[Object(I.jsx)(l.b,{exact:!0,path:"".concat(e,"/userprin/CreateKo"),component:te}),Object(I.jsx)(l.b,{exact:!0,path:"".concat(e,"/AddImage"),component:ce}),Object(I.jsx)(l.b,{exact:!0,path:"".concat(e,"/Home"),component:G}),Object(I.jsx)(l.b,{exact:!0,path:"".concat(e,"/search"),component:ne}),Object(I.jsx)(l.b,{path:"".concat(e,"/userprin/Kollection/:id"),component:re}),Object(I.jsx)(l.b,{path:"".concat(e,"/userprin/editInfo"),component:$}),Object(I.jsx)(l.b,{exact:!0,path:"".concat(e,"/userprin"),component:J})]})})]})})},le=function(){var e=new o.a;return Object(I.jsx)(s.Fragment,{children:Object(I.jsx)(d.a,{client:e,children:Object(I.jsxs)(i.a,{children:[Object(I.jsx)(l.b,{exact:!0,path:"/",component:C}),Object(I.jsx)(l.b,{exact:!0,path:"/Registro",component:k}),Object(I.jsx)(l.b,{exact:!0,path:"/Exitoregistro",component:S}),Object(I.jsx)(l.b,{path:"/Aplication",component:ie})]})})})};t(73);n.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(le,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.bd99612b.chunk.js.map